# Configuration file for SOTA Small Networks Comparison Project

# General settings
seed: 42
device: 'cuda'  # 'cuda' or 'cpu'
num_workers: 4
pin_memory: true

# Models to train
models:
  - 'mobilenetv3'
  - 'efficientnet'
  - 'shufflenet'
  - 'squeezenet'

# Datasets
datasets:
  cifar100:
    name: 'CIFAR-100'
    num_classes: 100
    img_size: 224
    batch_size: 128
    data_dir: './data/cifar100'

  stanford_dogs:
    name: 'Stanford Dogs'
    num_classes: 120
    img_size: 224
    batch_size: 32
    data_dir: './data/stanford_dogs'

  flowers102:
    name: 'Flowers-102'
    num_classes: 102
    img_size: 224
    batch_size: 32
    data_dir: './data/flowers102'

# Training hyperparameters
training:
  epochs: 100
  learning_rate: 0.01
  weight_decay: 0.0001
  momentum: 0.9
  optimizer: 'sgd'  # 'sgd' or 'adam'

  # Learning rate scheduler
  scheduler: 'cosine'  # 'cosine', 'step', or 'none'
  lr_decay_epochs: [30, 60, 90]
  lr_decay_rate: 0.1

  # Early stopping
  early_stopping: true
  patience: 15
  min_delta: 0.001

  # Gradient clipping
  grad_clip: 5.0

  # Mixed precision training
  mixed_precision: true

# Data augmentation
augmentation:
  train:
    random_resized_crop: 224
    random_horizontal_flip: 0.5
    color_jitter:
      brightness: 0.2
      contrast: 0.2
      saturation: 0.2
      hue: 0.1
    random_rotation: 15
    normalize:
      mean: [0.485, 0.456, 0.406]
      std: [0.229, 0.224, 0.225]

  test:
    resize: 256
    center_crop: 224
    normalize:
      mean: [0.485, 0.456, 0.406]
      std: [0.229, 0.224, 0.225]

# Model specific settings
model_configs:
  mobilenetv3:
    pretrained: true
    dropout: 0.2

  efficientnet:
    pretrained: true
    dropout: 0.3
    drop_path_rate: 0.2

  shufflenet:
    pretrained: true

  squeezenet:
    pretrained: true
    dropout: 0.5

# Evaluation settings
evaluation:
  batch_size: 64
  num_inference_runs: 100  # For speed benchmarking
  warmup_runs: 10

# Logging and checkpointing
logging:
  log_dir: './logs'
  checkpoint_dir: './checkpoints'
  results_dir: './results'
  save_frequency: 10  # Save checkpoint every N epochs
  save_best_only: true
  tensorboard: true

# Visualization
visualization:
  plot_training_curves: true
  plot_confusion_matrix: true
  plot_comparison_charts: true
  save_format: 'png'
  dpi: 300
